# Курсовая работа

**Цель работы** - закрепление теоретических знаний, полученных в ходе
лекций, приобретения навыков проектирования баз данных, накопление опыта работы с
СУБД «PostgreSQL» а также опыта создания десктопных приложений на выбранном языке прогрпммирования.

## Подготовка

Для выполнения курсовой работы необходимо скачать датасет по варианту.
Варианты опеределяются по списку группы следующим образом:
+ 1 вариант по списку берет 1 датсет
+ 2 вариант по списку берет 2 датсет
+ 3 вариант по списку берет 3 датсет
+ ...
+ 10 вариант по списку берет 1 датсет
+ 11 вариант по списку берет 2 датсет
+ 12 вариант по списку берет 3 датсет

и т.д.

## Список датасетов
1. [Kinopoisk-TOP250]('https://www.kaggle.com/datasets/alexandertesemnikov/kinopoisktop250russiandataset')
2. [IMDB Movies Dataset](https://www.kaggle.com/datasets/harshitshankhdhar/imdb-dataset-of-top-1000-movies-and-tv-shows)
3. [Netflix Movies and TV Shows](https://www.kaggle.com/datasets/shivamb/netflix-shows)

## Общее задание

Обычно, датасет представляет из себя одну большую таблицу с множеством атрибутов. 

![](../lab_select/../tutorials/lab_select/pictures/Kinopoisk.png "Кинопоиск") 

Так как атрибутов много и все они объединены, следующим шагом необходимо разбить эту таблицу на несколлько отдельных таблиц по сущностям и [нормализовать отношения](https://habr.com/ru/post/129195/) между ними.

После этого уже можно создавать таблицы и строить отношения между ними непосредственно в самой БД.

> :bulb: По необходимости можно поменять типы атрибутов, но только если они не изменяют общую логику. <br>
> Пример допустимого случая:
в датасете **ID** задан как **varchar**, а вы хотите поменять его на **int**.

После полной подготовки схемы данных и всех оптимизаций необходимо написать **десктопное приложение**, которое будет взаимодейстоввать с вашей БД. <br>
Десктопные приложения можно писать на разных языках программирования. На данный момент есть методоческие указание для следующих яп:
  * [Rust - фреймворк Tauri](../tutorials/lab_tauri/)
  * [C#](../tutorials/lab_c%23/)

> :bulb: Приложение должно быть именно десктопным. Писать tg бота или веб-приложение, к сожалению, нельзя.

## Задания по вариантам
**Вариант 1** <br>
1.  Создать дополнительную таблицу с интересными фактами про фильмы/сериалы и построить связи для их получения по фильму.
2.  Сделать EXPLAIN ANALYZE SELECT ... по названиям фильмов (по данному атрибуту на этом этапе не должен быть построен индекс).
3.  Построить индекс по атрибуту выше и сделать те же действия. Сравнить полученные результаты между собой. Обосновать почему получился такой результат.
4.  Сделать EXPLAIN ANALYZE с объединенем таблиц (минимум один JOIN). Как и в пунктах 2 и 3 - сначала выполняем все без индекса, потом с индексом.

**Вариант 2** <br>
1.  Создать дополнительную таблицу с рецензями на фильмы и построить связи для их получения по фильму.
2.  Сделать EXPLAIN ANALYZE SELECT ... по жанру фильмов (по данному атрибуту на этом этапе не должен быть построен индекс).
3.  Построить индекс по атрибуту выше и сделать те же действия. Сравнить полученные результаты между собой. Обосновать почему получился такой результат.
4.  Сделать EXPLAIN ANALYZE с объединением (JOIN) таблицы с рецензями и ещё минимум одной таблицей. Как и в пунктах 2 и 3 - сначала выполняем все без индекса, потом с индексом.

**Вариант 3** <br>
1.  Создать дополнительную таблицу со странами, в которых проводились съемки фильмов/сериалов, и построить связи для их получения по фильму.
2.  Сделать EXPLAIN ANALYZE SELECT ... по режисерам (director) (по данному атрибуту на этом этапе не должен быть построен индекс).
3.  Построить индекс по атрибуту выше и сделать те же действия. Сравнить полученные результаты между собой. Обосновать почему получился такой результат.
4.  Сделать EXPLAIN ANALYZE с объединенем таблиц (минимум два JOIN'а). Как и в пунктах 2 и 3 - сначала выполняем все без индекса, потом с индексом.

